<div class="user-main my-5 mx-4 d-flex justify-content-center">

<div class="card rounded-4 w-100" style="max-width: 600px;">
  <h2 class="mt-4 text-center">アカウント情報の編集</h2>
<div class="card-body">

<%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>

        <div class="field my-4">
          <label for="user_user_name">ユーザーネーム</label>
          <%= f.text_field :user_name, class: "form-control", placeholder: "表示名を入力してください" %>
          <% @user.errors.where(:user_name).each do |error| %>
            <p class="error-text"><%= error.full_message %></p>
          <% end %>
        </div>


        <div class="field my-4">
          <label for="user_avatar">プロフィール画像</label>
          <%= f.file_field :avatar, accept: "image/*", class: "form-control" %>
          <% if current_user.avatar.attached? %>
            <div class="mt-2">
              <p>現在の画像：</p>
              <%= image_tag current_user.avatar.variant(resize_to_fill: [100, 100]), class: "rounded-circle" %>
            </div>
          <% end %>
          <% @user.errors.where(:avatar).each do |error| %>
            <p class="error-text"><%= error.full_message %></p>
          <% end %>
        </div>

  <div class="field my-4">
    <label for="user_email">メールアドレス</label>
    <%= f.text_field :email, autofocus: true, autocomplete: "email", class: "form-control" %>
    <% @user.errors.where(:email).each do |error| %>
      <p class="error-text"><%= error.full_message %></p>
    <% end %>
  </div>

  <div class="field my-4">
    <div class="edit-label-area">
      <label for="user_password">パスワード</label>
    </div>
    <%= f.text_field :password, type: "password", autocomplete: "new-password", placeholder: "※変更する場合のみ入力", class: "form-control" %>
  </div>

  <div class="field my-4">
    <div class="edit-label-area">
      <label for="user_password_confirmation" >確認用パスワード</label>
    </div>
    <%= f.text_field :password_confirmation, type: "password", autocomplete: "new-password", placeholder: "※変更する場合のみ入力", class: "form-control" %>
  </div>

  <div class="field my-4">
    <div class="edit-label-area">
      <label for="user_current_password" >現在のパスワード</label>
      <label for="user_current_password" class="edit-password edit-password-esse fs-13 ml-3">※必ず入力してください</label>
    </div>
    <%= f.text_field :current_password, type: "password", autocomplete: "current-password", class: "form-control" %>
    <% @user.errors.where(:current_password).each do |error| %>
      <p class="error-text"><%= error.full_message %></p>
    <% end %>
  </div>

  <div class="actions my-4">
    <%= f.submit "保存する", class: "btn btn-success btn-success-light w-100" %>
    <%= link_to "戻る", users_profile_path, class: "btn btn-outline-success btn-success-light-hover w-100 mt-3" %>
  </div>
<% end %>

</div>
</div>
</div>
